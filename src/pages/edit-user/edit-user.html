<ion-header>

  <ion-navbar>
      <ion-toolbar>
        <ion-title>
            Editar perfil
        </ion-title>
        <ion-buttons start>
          <button ion-button (click)="dismiss()">
            <span ion-text color="primary" showWhen="ios">Cancel</span>
            <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
          </button>
        </ion-buttons>
      </ion-toolbar>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-card *ngIf="user">

      <img src="{{ url + 'get-image-user/' + user.image }}" *ngIf="user.image"/>

    <ion-card-content>
      <ion-card-title>
        {{user.name +' '+ user.surname}}
      </ion-card-title>
      <p>
        {{user.nick}}
      </p>
    </ion-card-content>

  </ion-card>

  <form #userEditForm="ngForm" (ngSubmit)="onSubmit()">
      <ion-item>
          <ion-label floating>Nombre</ion-label>
          <ion-input type="text" #name="ngModel" [(ngModel)]="user.name" [ngModelOptions]="{standalone: true}" required></ion-input>
      </ion-item>

      <ion-item>
          <ion-label floating>Apellido</ion-label>
          <ion-input type="text" #surname="ngModel" [(ngModel)]="user.surname" [ngModelOptions]="{standalone: true}" required></ion-input>
      </ion-item>

      <ion-item>
          <ion-label floating>Apodo</ion-label>
          <ion-input type="text" #nick="ngModel" [(ngModel)]="user.nick" [ngModelOptions]="{standalone: true}" required></ion-input>
      </ion-item>

      <ion-item>
          <ion-label floating>Email</ion-label>
          <ion-input type="text" #email="ngModel" [(ngModel)]="user.email" [ngModelOptions]="{standalone: true}" required></ion-input>
      </ion-item>

		<ion-item>
			<label>Sube tu avatar</label>
			<input  type="file" (change)="fileChangeEvent($event)" placeholder="Subir imagen"/>
		</ion-item>

    <div padding>
        <button ion-button color="danger" type="submit" round >Realizar cambios</button>
    </div>
	</form>

</ion-content>
